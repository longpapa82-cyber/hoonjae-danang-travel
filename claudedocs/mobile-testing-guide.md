# 모바일 기기 테스트 가이드

**작성 일시**: 2026-01-10
**예상 소요 시간**: 1-2시간
**테스트 일정**: D-4일 (2026-01-11) 권장

---

## 📱 테스트 개요

### 테스트 목적
- 실제 모바일 환경에서 PWA 설치 및 동작 확인
- 오프라인 모드 실제 검증
- GPS 위치 추적 및 배터리 소모 측정
- 네트워크 전환 시나리오 검증

### 준비물
- ✅ Android 기기 (Chrome 브라우저)
- ✅ iOS 기기 (Safari 브라우저)
- ✅ Wi-Fi 연결
- ✅ 보조 배터리 (배터리 테스트용)
- ✅ 스톱워치 또는 타이머 앱

### 테스트 URL
```
https://hoonjae-danang-travel.vercel.app
```

---

## 🤖 Android 기기 테스트 (Chrome)

### 1단계: PWA 설치 테스트

#### 1.1 자동 설치 프롬프트 확인
```
1. Chrome 브라우저 열기
2. https://hoonjae-danang-travel.vercel.app 접속
3. 페이지 로드 후 2초 대기
4. 화면 하단에 설치 프롬프트 표시 확인
   ┌─────────────────────────────────┐
   │ 📥 앱으로 설치하기         [X] │
   │ 홈 화면에 추가하면...          │
   │ [설치] [나중에]                │
   └─────────────────────────────────┘
```

**체크리스트**:
- [ ] 설치 프롬프트가 2초 후 자동 표시
- [ ] "설치" 버튼 클릭 가능
- [ ] "나중에" 버튼 클릭 시 프롬프트 사라짐
- [ ] 프롬프트 디자인이 깔끔하게 표시

#### 1.2 수동 설치 (브라우저 메뉴)
```
1. Chrome 주소창 옆 ⋮ (메뉴) 클릭
2. "홈 화면에 추가" 또는 "앱 설치" 선택
3. 설치 확인 팝업에서 "설치" 클릭
4. 홈 화면에 아이콘 추가 확인
```

**체크리스트**:
- [ ] 메뉴에 "홈 화면에 추가" 옵션 존재
- [ ] 아이콘이 홈 화면에 정상 표시
- [ ] 아이콘 이름: "다낭여행" 또는 "다낭 여행 트래커"
- [ ] 아이콘 이미지 선명하게 표시

#### 1.3 Standalone 모드 실행
```
1. 홈 화면의 "다낭여행" 아이콘 터치
2. 앱이 전체 화면으로 실행되는지 확인
3. 브라우저 주소창/메뉴바가 없는지 확인
4. 앱처럼 독립적으로 실행되는지 확인
```

**체크리스트**:
- [ ] 전체 화면 모드 실행
- [ ] 브라우저 UI 없음 (주소창, 메뉴바)
- [ ] 상태바만 표시
- [ ] 앱 전환 시 독립 앱으로 표시

#### 1.4 Shortcuts 테스트
```
1. 홈 화면 아이콘 길게 누르기 (Long press)
2. Shortcuts 메뉴 표시 확인:
   - 홈
   - 지도
   - 일정
3. "지도" shortcut 터치
4. 앱이 실행되고 지도 탭이 활성화되는지 확인
```

**체크리스트**:
- [ ] Shortcuts 메뉴 3개 표시
- [ ] 각 shortcut 터치 시 해당 탭으로 이동
- [ ] Shortcut 아이콘 정상 표시

---

### 2단계: 오프라인 모드 테스트

#### 2.1 오프라인 전환 테스트
```
1. 앱이 실행된 상태에서
2. 설정 → 네트워크 → 비행기 모드 ON
3. 오프라인 알림 표시 확인:
   🟠 오프라인 모드
   인터넷 연결이 끊어졌습니다.
   캐시된 데이터로 계속 사용할 수 있습니다.
4. 알림 "닫기" 버튼 클릭하여 제거
```

**체크리스트**:
- [ ] 오프라인 알림 즉시 표시
- [ ] 알림 색상: 주황색
- [ ] 알림 메시지 명확
- [ ] 닫기 버튼 동작

#### 2.2 오프라인 기능 테스트
```
1. 비행기 모드 상태에서
2. 홈 탭: 여행 진행률 확인
3. 일정 탭: 일정 타임라인 확인
4. 지도 탭: Google Maps 로드 실패 확인 (예상됨)
5. 탭 전환이 정상 작동하는지 확인
```

**체크리스트**:
- [ ] 홈 탭: 진행률 정상 표시
- [ ] 일정 탭: 타임라인 정상 표시
- [ ] 날씨 정보: 마지막 캐시 데이터 표시
- [ ] 탭 전환: 정상 작동
- [ ] 앱 크래시 없음

#### 2.3 온라인 복구 테스트
```
1. 비행기 모드 OFF
2. 온라인 복구 알림 확인:
   🟢 온라인 복구됨
   최신 정보를 불러오는 중...
3. 3초 후 알림 자동 사라짐 확인
4. 날씨 정보 자동 업데이트 확인
```

**체크리스트**:
- [ ] 온라인 복구 알림 표시
- [ ] 알림 색상: 녹색
- [ ] 3초 후 자동 숨김
- [ ] 날씨 정보 자동 업데이트

---

### 3단계: GPS 위치 추적 테스트

#### 3.1 위치 권한 요청
```
1. 앱 실행
2. "지도" 탭 터치
3. 위치 권한 요청 팝업 확인
4. "허용" 또는 "앱 사용 중에만 허용" 선택
```

**체크리스트**:
- [ ] 위치 권한 팝업 표시
- [ ] 권한 선택 옵션 명확
- [ ] 권한 허용 후 지도 로드

#### 3.2 GPS 추적 동작 확인
```
1. 지도 탭에서 현재 위치 마커 표시 확인
2. 홈 탭으로 전환
3. 다시 지도 탭으로 전환
4. 현재 위치 업데이트 확인
```

**체크리스트**:
- [ ] 지도에 현재 위치 표시 (파란색 점)
- [ ] 위치 정확도 적절 (±10-50m)
- [ ] 탭 전환 시 위치 업데이트

#### 3.3 배터리 소모 측정
```
📊 배터리 테스트 계획:
1. 배터리 100% 충전
2. 다른 앱 모두 종료
3. 앱 실행 (지도 탭)
4. 1시간 사용 후 배터리 잔량 확인
5. 2시간 사용 후 배터리 잔량 확인

기록:
시작 시간: ___:___
시작 배터리: ____%
1시간 후 배터리: ____%
2시간 후 배터리: ____%
소모량/시간: ____% / hour
```

**목표 배터리 소모**:
- 지도 탭 활성화: < 15%/hour
- 홈/일정 탭: < 5%/hour

**체크리스트**:
- [ ] 1시간 테스트 완료
- [ ] 배터리 소모 기록
- [ ] 배터리 소모량 허용 범위 내

---

### 4단계: 네트워크 전환 테스트

#### 4.1 Wi-Fi ↔ 모바일 데이터 전환
```
1. Wi-Fi 연결 상태에서 앱 실행
2. Wi-Fi OFF → 모바일 데이터 ON
3. 앱이 정상 작동하는지 확인
4. 날씨 정보 업데이트 확인
5. 모바일 데이터 OFF → Wi-Fi ON
6. 다시 정상 작동 확인
```

**체크리스트**:
- [ ] Wi-Fi → 모바일 데이터 전환 시 정상
- [ ] 모바일 데이터 → Wi-Fi 전환 시 정상
- [ ] 네트워크 전환 알림 표시 (선택)
- [ ] 데이터 자동 동기화

---

## 🍎 iOS 기기 테스트 (Safari)

### 1단계: PWA 설치 테스트

#### 1.1 수동 설치 (Safari 공유 메뉴)
```
1. Safari 브라우저 열기
2. https://hoonjae-danang-travel.vercel.app 접속
3. 하단 공유 버튼 (□↑) 터치
4. "홈 화면에 추가" 선택
5. 앱 이름 확인: "다낭여행"
6. "추가" 버튼 터치
7. 홈 화면에 아이콘 추가 확인
```

**체크리스트**:
- [ ] 공유 메뉴에 "홈 화면에 추가" 옵션
- [ ] 앱 이름 정상 표시
- [ ] Apple touch icon 선명하게 표시
- [ ] 홈 화면 아이콘 추가 완료

**참고**: iOS는 자동 설치 프롬프트를 지원하지 않습니다.

#### 1.2 Standalone 모드 실행
```
1. 홈 화면의 "다낭여행" 아이콘 터치
2. Safari UI 없이 앱 실행 확인
3. 상태바 스타일 확인
4. 전체 화면 모드 확인
```

**체크리스트**:
- [ ] Safari UI 없음 (주소창, 툴바)
- [ ] 상태바만 표시
- [ ] 상태바 스타일 적용 (default)
- [ ] 독립 앱으로 실행

#### 1.3 앱 전환 확인
```
1. 앱 실행 중 홈 버튼 더블 클릭 (앱 전환기)
2. 다낭여행 앱이 독립 앱으로 표시되는지 확인
3. 다시 앱으로 전환
```

**체크리스트**:
- [ ] 앱 전환기에 독립 앱으로 표시
- [ ] 앱 전환 후 상태 유지
- [ ] 앱 아이콘 및 이름 표시

---

### 2단계: Service Worker 제한 확인

**iOS Safari의 Service Worker 제한**:
- iOS 11.3+: 제한적 지원
- Standalone 모드에서만 완전 지원
- 일부 캐싱 기능 제한 가능

#### 2.1 Service Worker 등록 확인
```
1. 앱 실행
2. Safari 개발자 도구 (Mac 필요)
3. 또는 콘솔 로그 확인 (가능 시)
4. Service Worker 등록 여부 확인
```

**체크리스트**:
- [ ] Service Worker 등록 시도 확인
- [ ] 오류 없이 등록 (또는 제한적 지원)

#### 2.2 오프라인 모드 제한적 테스트
```
1. 앱에서 모든 탭 방문 (캐시 준비)
2. 비행기 모드 ON
3. 앱 새로고침
4. 기본 기능 작동 확인
```

**예상 결과**:
- 완전한 오프라인 지원은 제한적일 수 있음
- 기본 UI는 표시되어야 함
- 일부 기능은 온라인 필요

**체크리스트**:
- [ ] 비행기 모드에서 앱 실행
- [ ] 기본 UI 표시
- [ ] 치명적 에러 없음

---

### 3단계: GPS 위치 추적 테스트

#### 3.1 위치 권한 요청
```
1. 앱 실행
2. "지도" 탭 터치
3. 위치 권한 요청 확인
4. "앱 사용 중 허용" 선택
```

**체크리스트**:
- [ ] 위치 권한 팝업 표시
- [ ] 권한 허용 후 지도 로드
- [ ] 현재 위치 마커 표시

#### 3.2 배터리 소모 측정 (Android와 동일)
```
시작 시간: ___:___
시작 배터리: ____%
1시간 후 배터리: ____%
2시간 후 배터리: ____%
소모량/시간: ____% / hour
```

**체크리스트**:
- [ ] 배터리 테스트 완료
- [ ] 배터리 소모 기록

---

## 📊 테스트 결과 기록

### Android 테스트 결과

**기기 정보**:
- 모델: _______________
- Android 버전: _______________
- Chrome 버전: _______________

**PWA 설치**: ⬜ 성공 / ⬜ 실패
- 자동 프롬프트: ⬜ 표시됨 / ⬜ 표시 안 됨
- 수동 설치: ⬜ 성공 / ⬜ 실패
- Standalone 모드: ⬜ 정상 / ⬜ 문제 있음
- Shortcuts: ⬜ 동작 / ⬜ 동작 안 함

**오프라인 모드**: ⬜ 정상 / ⬜ 문제 있음
- 오프라인 알림: ⬜ 표시됨 / ⬜ 표시 안 됨
- 오프라인 동작: ⬜ 정상 / ⬜ 제한적 / ⬜ 불가
- 온라인 복구: ⬜ 자동 / ⬜ 수동 필요

**GPS 위치 추적**: ⬜ 정상 / ⬜ 문제 있음
- 위치 정확도: ⬜ 높음 / ⬜ 중간 / ⬜ 낮음
- 배터리 소모: _____% / hour
- GPS 업데이트: ⬜ 정상 / ⬜ 느림

**발견된 문제**:
1. _______________________________
2. _______________________________
3. _______________________________

---

### iOS 테스트 결과

**기기 정보**:
- 모델: _______________
- iOS 버전: _______________
- Safari 버전: _______________

**PWA 설치**: ⬜ 성공 / ⬜ 실패
- 수동 설치: ⬜ 성공 / ⬜ 실패
- Standalone 모드: ⬜ 정상 / ⬜ 문제 있음
- 상태바 스타일: ⬜ 적용됨 / ⬜ 적용 안 됨

**Service Worker**: ⬜ 등록됨 / ⬜ 제한적 / ⬜ 미등록
- 오프라인 모드: ⬜ 정상 / ⬜ 제한적 / ⬜ 불가

**GPS 위치 추적**: ⬜ 정상 / ⬜ 문제 있음
- 위치 정확도: ⬜ 높음 / ⬜ 중간 / ⬜ 낮음
- 배터리 소모: _____% / hour

**발견된 문제**:
1. _______________________________
2. _______________________________
3. _______________________________

---

## 🔧 트러블슈팅

### 문제 1: PWA 설치 프롬프트가 표시되지 않음

**원인**:
- 이미 설치됨
- "나중에" 클릭 후 24시간 이내
- 브라우저가 beforeinstallprompt 미지원

**해결 방법**:
1. 브라우저 메뉴 → "홈 화면에 추가" 직접 선택
2. localStorage 초기화:
   ```javascript
   // 개발자 도구 콘솔에서
   localStorage.removeItem('pwa-install-dismissed');
   location.reload();
   ```

### 문제 2: 오프라인 모드가 작동하지 않음

**원인**:
- Service Worker 등록 실패
- 캐시 준비 안 됨
- iOS Safari 제한

**해결 방법**:
1. 온라인 상태에서 모든 탭 방문 (캐시 준비)
2. 개발자 도구 → Application → Service Workers 확인
3. iOS는 제한적 지원 가능 (예상됨)

### 문제 3: GPS 위치가 부정확함

**원인**:
- GPS 신호 약함 (실내)
- 위치 권한 제한
- Battery Saver 모드

**해결 방법**:
1. 실외에서 테스트
2. 위치 권한 "항상 허용"으로 변경
3. 고정확도 모드 활성화 (설정)

### 문제 4: 배터리 소모가 심함

**원인**:
- GPS 계속 추적 중
- 백그라운드 실행

**해결 방법**:
1. 지도 탭 외에는 GPS 자동 비활성화 (이미 구현됨)
2. 앱 종료 시 GPS 추적 중지
3. Battery Saver 모드 사용

### 문제 5: 앱이 크래시됨

**원인**:
- 메모리 부족
- 호환성 문제

**해결 방법**:
1. 다른 앱 종료
2. 기기 재시작
3. 문제 재현 후 스크린샷/로그 전송

---

## ✅ 테스트 완료 체크리스트

### Android
- [ ] PWA 설치 성공
- [ ] Standalone 모드 실행
- [ ] Shortcuts 동작
- [ ] 오프라인 모드 테스트
- [ ] 온라인 복구 테스트
- [ ] GPS 위치 추적
- [ ] 배터리 소모 측정 (1-2시간)
- [ ] 네트워크 전환 테스트
- [ ] 발견된 문제 기록

### iOS
- [ ] PWA 설치 성공 (수동)
- [ ] Standalone 모드 실행
- [ ] Service Worker 확인
- [ ] 오프라인 모드 테스트 (제한적)
- [ ] GPS 위치 추적
- [ ] 배터리 소모 측정 (1-2시간)
- [ ] 발견된 문제 기록

### 공통
- [ ] 테스트 결과 기록 완료
- [ ] 스크린샷 촬영 (중요 화면)
- [ ] 문제 발견 시 재현 방법 기록
- [ ] 다음 단계 결정 (수정 필요 시)

---

## 📸 스크린샷 가이드

**촬영 권장 화면**:
1. PWA 설치 프롬프트
2. 홈 화면 아이콘
3. Standalone 모드 실행 화면
4. Shortcuts 메뉴 (Android)
5. 오프라인 알림
6. 온라인 복구 알림
7. 지도 탭 (GPS 위치 표시)
8. 배터리 설정 화면 (소모량)

**스크린샷 저장 위치**:
```
screenshots/
├── android/
│   ├── 1-install-prompt.jpg
│   ├── 2-home-icon.jpg
│   ├── 3-standalone.jpg
│   ├── 4-shortcuts.jpg
│   ├── 5-offline-alert.jpg
│   ├── 6-online-alert.jpg
│   └── 7-gps-map.jpg
└── ios/
    ├── 1-share-menu.jpg
    ├── 2-home-icon.jpg
    ├── 3-standalone.jpg
    └── 4-gps-map.jpg
```

---

## 📋 테스트 후 조치사항

### 테스트 통과 시 (문제 없음)
1. ✅ 테스트 결과 기록 완료
2. ✅ 스크린샷 저장
3. ✅ 다음 단계 진행 (Vercel Analytics, README)

### 테스트 실패 시 (문제 발견)
1. 문제 상세 기록
2. 재현 방법 작성
3. 스크린샷/로그 수집
4. 수정 필요 여부 판단
5. 긴급도에 따라 즉시 수정 또는 여행 후 수정

### 시간 부족 시
- 최소 Android PWA 설치 테스트만 수행
- 나머지는 여행 당일 공항에서 테스트

---

## 🎯 성공 기준

### 필수 (Must Have)
- ✅ Android 또는 iOS에서 PWA 설치 성공
- ✅ 오프라인 모드 기본 동작
- ✅ GPS 위치 추적 동작

### 권장 (Should Have)
- ✅ Android + iOS 모두 테스트
- ✅ 배터리 소모 측정 완료
- ✅ 네트워크 전환 테스트

### 선택 (Nice to Have)
- ✅ Shortcuts 동작 확인
- ✅ 2시간 배터리 테스트
- ✅ 다양한 시나리오 테스트

---

**문서 버전**: 1.0
**최종 업데이트**: 2026-01-10
**작성자**: Claude Code (SuperClaude)
**예상 소요 시간**: 1-2시간
**권장 일정**: D-4일 (2026-01-11)
