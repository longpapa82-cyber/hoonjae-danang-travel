# Playwright í…ŒìŠ¤íŠ¸ ê³„íšì„œ
## ë‹¤ë‚­ ì—¬í–‰ ì§„ì²™ë„ ì¶”ì  ì• í”Œë¦¬ì¼€ì´ì…˜

---

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

### ì• í”Œë¦¬ì¼€ì´ì…˜ ì •ë³´
- **í”„ë¡œì íŠ¸ëª…**: ë‹¤ë‚­ ì—¬í–‰ ì§„ì²™ë„ ì¶”ì  (Danang Travel Tracker)
- **ê¸°ìˆ  ìŠ¤íƒ**: Next.js 15, React 19, TypeScript, Framer Motion, Google Maps API
- **í…ŒìŠ¤íŠ¸ ë„êµ¬**: Playwright v1.57.0
- **ëª©ì **: ì‹¤ì‹œê°„ ì—¬í–‰ ì§„í–‰ ìƒíƒœ ëª¨ë‹ˆí„°ë§ ë° ì¼ì • ê´€ë¦¬

### í•µì‹¬ ê¸°ëŠ¥
1. **ì—¬í–‰ ì§„ì²™ë„ ì¶”ì ** - í˜„ì¬ ì‹œê°„ ê¸°ì¤€ ì—¬í–‰ ì „/ì¤‘/í›„ ìƒíƒœ í‘œì‹œ
2. **4ê°œ íƒ­ ë„¤ë¹„ê²Œì´ì…˜** - í™ˆ, ì§€ë„, ì¼ì •, ì„¤ì •
3. **ì‹¤ì‹œê°„ ì§€ë„** - Google Maps API í™œìš© ê²½ë¡œ í‘œì‹œ
4. **ì¼ì • íƒ€ì„ë¼ì¸** - 5ì¼ê°„ ìƒì„¸ ì¼ì • ê´€ë¦¬
5. **ë‹¤í¬ëª¨ë“œ** - í…Œë§ˆ ì „í™˜ ê¸°ëŠ¥
6. **ë°˜ì‘í˜• ë””ìì¸** - ëª¨ë°”ì¼ ìš°ì„  ì„¤ê³„
7. **ìœ„ì¹˜ ì¶”ì ** - í˜„ì¬ ìœ„ì¹˜ ê¸°ë°˜ ê²½ë¡œ ì•ˆë‚´

---

## ğŸ¯ í…ŒìŠ¤íŠ¸ ì „ëµ

### í…ŒìŠ¤íŠ¸ ìš°ì„ ìˆœìœ„

#### ğŸ”´ **P0 - Critical (í•„ìˆ˜)**
í˜ì´ì§€ ê¸°ë³¸ ë™ì‘ ë° í•µì‹¬ ê¸°ëŠ¥

1. **í˜ì´ì§€ ë¡œë”© & ë Œë”ë§**
   - ì´ˆê¸° í˜ì´ì§€ ë¡œë“œ ì„±ê³µ
   - í•„ìˆ˜ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§
   - ë©”íƒ€ë°ì´í„° ë° íƒ€ì´í‹€ í™•ì¸

2. **íƒ­ ë„¤ë¹„ê²Œì´ì…˜**
   - 4ê°œ íƒ­ ì „í™˜ ë™ì‘
   - íƒ­ë³„ ì»¨í…ì¸  í‘œì‹œ
   - í™œì„± íƒ­ ìƒíƒœ ìœ ì§€

3. **ì—¬í–‰ ì§„ì²™ë„ ê³„ì‚°**
   - ì—¬í–‰ ì „ ì¹´ìš´íŠ¸ë‹¤ìš´ í‘œì‹œ
   - ì—¬í–‰ ì¤‘ ì§„í–‰ë¥  í‘œì‹œ
   - ì—¬í–‰ í›„ ì™„ë£Œ ìƒíƒœ í‘œì‹œ

4. **ì¼ì • ë°ì´í„° í‘œì‹œ**
   - 5ì¼ ì¼ì • í‘œì‹œ
   - í™œë™ ì‹œê°„ ë° ì„¤ëª… í‘œì‹œ
   - ì™„ë£Œ/ì§„í–‰ì¤‘/ì˜ˆì • ìƒíƒœ êµ¬ë¶„

#### ğŸŸ¡ **P1 - Important (ì¤‘ìš”)**
ì£¼ìš” ì‚¬ìš©ì ì¸í„°ë™ì…˜

5. **ì§€ë„ ê¸°ëŠ¥**
   - Google Maps ë¡œë”©
   - ë§ˆì»¤ í‘œì‹œ
   - ê²½ë¡œ ë Œë”ë§

6. **ë‹¤í¬ëª¨ë“œ**
   - í…Œë§ˆ í† ê¸€ ë™ì‘
   - ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì €ì¥
   - í…Œë§ˆ ì ìš© í™•ì¸

7. **ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ**
   - ëª¨ë°”ì¼ ë·°í¬íŠ¸ (375px - 430px)
   - íƒœë¸”ë¦¿ ë·°í¬íŠ¸ (768px - 1024px)
   - ë°ìŠ¤í¬í†± ë·°í¬íŠ¸ (1280px+)

8. **íƒ€ì„ë¼ì¸ ì¸í„°ë™ì…˜**
   - ìŠ¤í¬ë¡¤ ë™ì‘
   - ì¹´ë“œ í™•ì¥/ì¶•ì†Œ
   - ì´ë¯¸ì§€ ëª¨ë‹¬ í‘œì‹œ

#### ğŸŸ¢ **P2 - Nice-to-have (ë¶€ê°€)**
UX í–¥ìƒ ê¸°ëŠ¥

9. **ìœ„ì¹˜ ê¶Œí•œ**
   - ê¶Œí•œ ìš”ì²­ ëª¨ë‹¬
   - ê¶Œí•œ ìŠ¹ì¸/ê±°ë¶€ ì²˜ë¦¬

10. **FAB ë²„íŠ¼**
    - ìŠ¤í¬ë¡¤ ì‹œ í‘œì‹œ/ìˆ¨ê¹€
    - ë¹ ë¥¸ íƒ­ ì „í™˜

11. **ì• ë‹ˆë©”ì´ì…˜**
    - Framer Motion íŠ¸ëœì§€ì…˜
    - ë¶€ë“œëŸ¬ìš´ í˜ì´ì§€ ì „í™˜

12. **ì ‘ê·¼ì„±**
    - ARIA ì†ì„± í™•ì¸
    - í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
    - í„°ì¹˜ íƒ€ê²Ÿ í¬ê¸° (44x44px)

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### 1. í˜ì´ì§€ ë¡œë”© & ë Œë”ë§ (P0)

**test-01-page-load.spec.ts**
```typescript
describe('Page Loading', () => {
  test('should load homepage successfully', async ({ page }) => {
    // í˜ì´ì§€ ì ‘ì†
    await page.goto('http://localhost:3000');
    await page.waitForLoadState('networkidle');

    // íƒ€ì´í‹€ í™•ì¸
    await expect(page).toHaveTitle(/í›ˆì¬ì˜ ì—¬í–‰ ê³„íší‘œ/);

    // í—¤ë” í™•ì¸
    const header = page.locator('h1');
    await expect(header).toContainText('í›ˆì¬ì˜ ì—¬í–‰ ê³„íší‘œ');

    // ë‚ ì§œ í‘œì‹œ í™•ì¸
    const dateText = page.locator('text=2026.01.15 (ëª©) - 01.19 (ì›”)');
    await expect(dateText).toBeVisible();
  });

  test('should render all essential components', async ({ page }) => {
    await page.goto('http://localhost:3000');
    await page.waitForLoadState('networkidle');

    // í˜„ì¬ ìœ„ì¹˜ ì¹´ë“œ
    await expect(page.locator('[data-testid="current-location-card"]')).toBeVisible();

    // ê²½ë¡œ ì•ˆë‚´ ì¹´ë“œ
    await expect(page.locator('[data-testid="route-info-card"]')).toBeVisible();

    // ì§€ë„
    await expect(page.locator('[data-testid="map-view"]')).toBeVisible();

    // ì—¬í–‰ ì§„ì²™ë„
    await expect(page.locator('[data-testid="travel-progress"]')).toBeVisible();

    // í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜
    await expect(page.locator('[data-testid="bottom-navigation"]')).toBeVisible();
  });
});
```

### 2. íƒ­ ë„¤ë¹„ê²Œì´ì…˜ (P0)

**test-02-tab-navigation.spec.ts**
```typescript
describe('Tab Navigation', () => {
  test('should switch between tabs', async ({ page }) => {
    await page.goto('http://localhost:3000');
    await page.waitForLoadState('networkidle');

    // í™ˆ íƒ­ (ê¸°ë³¸)
    await expect(page.locator('[data-testid="tab-home"]')).toHaveAttribute('aria-selected', 'true');

    // ì§€ë„ íƒ­ í´ë¦­
    await page.click('[data-testid="tab-map"]');
    await expect(page.locator('[data-testid="map-page"]')).toBeVisible();
    await expect(page.locator('[data-testid="tab-map"]')).toHaveAttribute('aria-selected', 'true');

    // ì¼ì • íƒ­ í´ë¦­
    await page.click('[data-testid="tab-schedule"]');
    await expect(page.locator('[data-testid="schedule-page"]')).toBeVisible();

    // ì„¤ì • íƒ­ í´ë¦­
    await page.click('[data-testid="tab-settings"]');
    await expect(page.locator('[data-testid="settings-page"]')).toBeVisible();
  });

  test('should preserve tab state after interaction', async ({ page }) => {
    await page.goto('http://localhost:3000');

    // ì¼ì • íƒ­ìœ¼ë¡œ ì´ë™
    await page.click('[data-testid="tab-schedule"]');

    // ìŠ¤í¬ë¡¤ í›„ì—ë„ íƒ­ ìœ ì§€
    await page.evaluate(() => window.scrollBy(0, 500));
    await expect(page.locator('[data-testid="tab-schedule"]')).toHaveAttribute('aria-selected', 'true');
  });
});
```

### 3. ì—¬í–‰ ì§„ì²™ë„ ê³„ì‚° (P0)

**test-03-travel-progress.spec.ts**
```typescript
describe('Travel Progress', () => {
  test('should display countdown before travel starts', async ({ page }) => {
    // ì—¬í–‰ ì „ ì‹œê°„ìœ¼ë¡œ ì‹œìŠ¤í…œ ì‹œê°„ ì„¤ì • (2026-01-10)
    await page.addInitScript(() => {
      Date.now = () => new Date('2026-01-10T12:00:00+09:00').getTime();
    });

    await page.goto('http://localhost:3000');
    await page.waitForLoadState('networkidle');

    // ì¹´ìš´íŠ¸ë‹¤ìš´ í‘œì‹œ í™•ì¸
    await expect(page.locator('[data-testid="countdown-timer"]')).toBeVisible();
    await expect(page.locator('text=/ì—¬í–‰ê¹Œì§€/i')).toBeVisible();
  });

  test('should display progress during travel', async ({ page }) => {
    // ì—¬í–‰ ì¤‘ ì‹œê°„ìœ¼ë¡œ ì„¤ì • (2026-01-16, 2ì¼ì°¨)
    await page.addInitScript(() => {
      Date.now = () => new Date('2026-01-16T12:00:00+07:00').getTime();
    });

    await page.goto('http://localhost:3000');
    await page.waitForLoadState('networkidle');

    // ì§„í–‰ë¥  í‘œì‹œ í™•ì¸
    await expect(page.locator('[data-testid="progress-ring"]')).toBeVisible();

    // í˜„ì¬ í™œë™ í‘œì‹œ
    await expect(page.locator('[data-testid="current-activity"]')).toBeVisible();

    // ë‹¤ìŒ í™œë™ í‘œì‹œ
    await expect(page.locator('[data-testid="next-activity"]')).toBeVisible();
  });

  test('should display completion after travel ends', async ({ page }) => {
    // ì—¬í–‰ í›„ ì‹œê°„ìœ¼ë¡œ ì„¤ì • (2026-01-20)
    await page.addInitScript(() => {
      Date.now = () => new Date('2026-01-20T12:00:00+09:00').getTime();
    });

    await page.goto('http://localhost:3000');
    await page.waitForLoadState('networkidle');

    // ì™„ë£Œ ìƒíƒœ í‘œì‹œ
    await expect(page.locator('text=/ì—¬í–‰ ì™„ë£Œ/i')).toBeVisible();
  });
});
```

### 4. ì¼ì • ë°ì´í„° í‘œì‹œ (P0)

**test-04-schedule-display.spec.ts**
```typescript
describe('Schedule Display', () => {
  test('should display all 5 days of schedule', async ({ page }) => {
    await page.goto('http://localhost:3000');
    await page.click('[data-testid="tab-schedule"]');
    await page.waitForLoadState('networkidle');

    // 5ì¼ ëª¨ë‘ í‘œì‹œ í™•ì¸
    for (let day = 1; day <= 5; day++) {
      await expect(page.locator(`[data-testid="day-${day}"]`)).toBeVisible();
    }
  });

  test('should display activity details', async ({ page }) => {
    await page.goto('http://localhost:3000');
    await page.click('[data-testid="tab-schedule"]');

    // ì²« ë²ˆì§¸ í™œë™ í™•ì¸
    const firstActivity = page.locator('[data-testid="activity-1-1"]');
    await expect(firstActivity).toBeVisible();

    // ì‹œê°„ í‘œì‹œ
    await expect(firstActivity.locator('text=13:00')).toBeVisible();

    // ì œëª© í‘œì‹œ
    await expect(firstActivity.locator('text=ì§‘ì—ì„œ ì¶œë°œ')).toBeVisible();
  });

  test('should show activity status (completed/active/upcoming)', async ({ page }) => {
    // ì—¬í–‰ ì¤‘ ì‹œê°„ìœ¼ë¡œ ì„¤ì •
    await page.addInitScript(() => {
      Date.now = () => new Date('2026-01-16T15:00:00+07:00').getTime();
    });

    await page.goto('http://localhost:3000');
    await page.click('[data-testid="tab-schedule"]');

    // ì™„ë£Œëœ í™œë™ (ì²´í¬ í‘œì‹œ)
    await expect(page.locator('[data-testid="activity-1-1"] [data-status="completed"]')).toBeVisible();

    // ì§„í–‰ ì¤‘ í™œë™ (í•˜ì´ë¼ì´íŠ¸)
    await expect(page.locator('[data-status="active"]')).toBeVisible();

    // ì˜ˆì • í™œë™ (ë¹„í™œì„±)
    await expect(page.locator('[data-status="upcoming"]').first()).toBeVisible();
  });
});
```

### 5. ì§€ë„ ê¸°ëŠ¥ (P1)

**test-05-map-functionality.spec.ts**
```typescript
describe('Map Functionality', () => {
  test('should load Google Maps', async ({ page }) => {
    await page.goto('http://localhost:3000');
    await page.click('[data-testid="tab-map"]');

    // Google Maps iframe ë˜ëŠ” ì»¨í…Œì´ë„ˆ í™•ì¸
    await page.waitForSelector('[data-testid="google-map"]', { timeout: 10000 });

    // ì§€ë„ ë¡œë”© ì™„ë£Œ ëŒ€ê¸°
    await page.waitForTimeout(2000);

    // ìŠ¤í¬ë¦°ìƒ·ìœ¼ë¡œ ì§€ë„ ë Œë”ë§ í™•ì¸
    await page.screenshot({ path: '/tmp/map-loaded.png' });
  });

  test('should display location markers', async ({ page }) => {
    await page.goto('http://localhost:3000');
    await page.click('[data-testid="tab-map"]');

    // ë§ˆì»¤ í‘œì‹œ í™•ì¸ (DOM ë˜ëŠ” ì‹œê°ì  ê²€ì¦)
    const markerCount = await page.locator('[data-testid*="marker"]').count();
    expect(markerCount).toBeGreaterThan(0);
  });

  test('should show route between locations', async ({ page }) => {
    // ì—¬í–‰ ì¤‘ ì‹œê°„ìœ¼ë¡œ ì„¤ì •
    await page.addInitScript(() => {
      Date.now = () => new Date('2026-01-16T12:00:00+07:00').getTime();
    });

    await page.goto('http://localhost:3000');

    // í™ˆ í™”ë©´ì˜ ì§€ë„ì— ê²½ë¡œ í‘œì‹œ í™•ì¸
    await page.waitForSelector('[data-testid="route-polyline"]', { timeout: 5000 });
  });
});
```

### 6. ë‹¤í¬ëª¨ë“œ (P1)

**test-06-dark-mode.spec.ts**
```typescript
describe('Dark Mode', () => {
  test('should toggle dark mode', async ({ page }) => {
    await page.goto('http://localhost:3000');
    await page.click('[data-testid="tab-settings"]');

    // ì´ˆê¸° í…Œë§ˆ í™•ì¸ (ë¼ì´íŠ¸ ëª¨ë“œ ê¸°ë³¸)
    const htmlElement = page.locator('html');
    await expect(htmlElement).not.toHaveClass(/dark/);

    // ë‹¤í¬ëª¨ë“œ í† ê¸€
    await page.click('[data-testid="theme-toggle"]');

    // ë‹¤í¬ëª¨ë“œ í´ë˜ìŠ¤ ì ìš© í™•ì¸
    await expect(htmlElement).toHaveClass(/dark/);

    // ë‹¤ì‹œ í† ê¸€ (ë¼ì´íŠ¸ëª¨ë“œë¡œ)
    await page.click('[data-testid="theme-toggle"]');
    await expect(htmlElement).not.toHaveClass(/dark/);
  });

  test('should persist theme preference', async ({ page }) => {
    await page.goto('http://localhost:3000');
    await page.click('[data-testid="tab-settings"]');

    // ë‹¤í¬ëª¨ë“œ í™œì„±í™”
    await page.click('[data-testid="theme-toggle"]');

    // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
    await page.reload();
    await page.waitForLoadState('networkidle');

    // ë‹¤í¬ëª¨ë“œ ìœ ì§€ í™•ì¸
    await expect(page.locator('html')).toHaveClass(/dark/);
  });
});
```

### 7. ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ (P1)

**test-07-responsive-layout.spec.ts**
```typescript
describe('Responsive Layout', () => {
  const viewports = {
    mobile: { width: 375, height: 667 },
    tablet: { width: 768, height: 1024 },
    desktop: { width: 1280, height: 800 },
  };

  Object.entries(viewports).forEach(([device, viewport]) => {
    test(`should render correctly on ${device}`, async ({ page }) => {
      await page.setViewportSize(viewport);
      await page.goto('http://localhost:3000');
      await page.waitForLoadState('networkidle');

      // í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ í‘œì‹œ í™•ì¸
      await expect(page.locator('[data-testid="bottom-navigation"]')).toBeVisible();

      // ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜
      await page.screenshot({
        path: `/tmp/responsive-${device}.png`,
        fullPage: true
      });
    });
  });

  test('should adjust layout for mobile', async ({ page }) => {
    await page.setViewportSize({ width: 375, height: 667 });
    await page.goto('http://localhost:3000');

    // ëª¨ë°”ì¼ ë ˆì´ì•„ì›ƒ í™•ì¸
    const layout = page.locator('[data-testid="mobile-layout"]');
    await expect(layout).toBeVisible();
  });
});
```

### 8. íƒ€ì„ë¼ì¸ ì¸í„°ë™ì…˜ (P1)

**test-08-timeline-interaction.spec.ts**
```typescript
describe('Timeline Interaction', () => {
  test('should scroll timeline', async ({ page }) => {
    await page.goto('http://localhost:3000');
    await page.click('[data-testid="tab-schedule"]');

    // íƒ€ì„ë¼ì¸ ì»¨í…Œì´ë„ˆ
    const timeline = page.locator('[data-testid="day-timeline"]');

    // ìŠ¤í¬ë¡¤ ì „ ìœ„ì¹˜
    const scrollBefore = await timeline.evaluate(el => el.scrollTop);

    // ìŠ¤í¬ë¡¤ ë‹¤ìš´
    await timeline.evaluate(el => el.scrollBy(0, 300));

    // ìŠ¤í¬ë¡¤ í›„ ìœ„ì¹˜ í™•ì¸
    const scrollAfter = await timeline.evaluate(el => el.scrollTop);
    expect(scrollAfter).toBeGreaterThan(scrollBefore);
  });

  test('should expand activity card on click', async ({ page }) => {
    await page.goto('http://localhost:3000');
    await page.click('[data-testid="tab-schedule"]');

    // ìƒì„¸ ì •ë³´ê°€ ìˆëŠ” í™œë™ ì„ íƒ (1-2: ê³µí•­ ë¯¸íŒ…)
    const activityCard = page.locator('[data-testid="activity-1-2"]');
    await activityCard.click();

    // ìƒì„¸ ì„¤ëª… í‘œì‹œ í™•ì¸
    await expect(activityCard.locator('text=/ì¸ì²œ êµ­ì œê³µí•­/i')).toBeVisible();
  });

  test('should open image modal', async ({ page }) => {
    await page.goto('http://localhost:3000');
    await page.click('[data-testid="tab-schedule"]');

    // ì´ë¯¸ì§€ê°€ ìˆëŠ” í™œë™ (1-2: ê³µí•­ ë¯¸íŒ…)
    const imageButton = page.locator('[data-testid="activity-1-2"] img').first();
    await imageButton.click();

    // ëª¨ë‹¬ í‘œì‹œ í™•ì¸
    await expect(page.locator('[data-testid="image-modal"]')).toBeVisible();

    // ëª¨ë‹¬ ë‹«ê¸°
    await page.click('[data-testid="modal-close"]');
    await expect(page.locator('[data-testid="image-modal"]')).not.toBeVisible();
  });
});
```

### 9. ìœ„ì¹˜ ê¶Œí•œ (P2)

**test-09-location-permission.spec.ts**
```typescript
describe('Location Permission', () => {
  test('should show permission modal on first visit', async ({ page, context }) => {
    // ìœ„ì¹˜ ê¶Œí•œ ê±°ë¶€ ìƒíƒœë¡œ ì‹œì‘
    await context.grantPermissions([]);

    await page.goto('http://localhost:3000');
    await page.waitForLoadState('networkidle');

    // ê¶Œí•œ ìš”ì²­ ëª¨ë‹¬ í‘œì‹œ (ì¡°ê±´ë¶€)
    // ì‹¤ì œë¡œëŠ” localStorage í™•ì¸ í•„ìš”
  });

  test('should handle geolocation permission grant', async ({ page, context }) => {
    // ìœ„ì¹˜ ê¶Œí•œ í—ˆìš©
    await context.grantPermissions(['geolocation']);

    // ê³ ì • ìœ„ì¹˜ ì„¤ì • (ë‹¤ë‚­ ì¢Œí‘œ)
    await context.setGeolocation({ latitude: 16.0544, longitude: 108.2022 });

    await page.goto('http://localhost:3000');
    await page.waitForLoadState('networkidle');

    // í˜„ì¬ ìœ„ì¹˜ ì¹´ë“œì— ìœ„ì¹˜ í‘œì‹œ í™•ì¸
    await expect(page.locator('[data-testid="current-location"]')).toBeVisible();
  });
});
```

### 10. FAB ë²„íŠ¼ (P2)

**test-10-fab-button.spec.ts**
```typescript
describe('FAB Button', () => {
  test('should show FAB on scroll', async ({ page }) => {
    await page.goto('http://localhost:3000');

    // ìŠ¤í¬ë¡¤ ì „ FAB ìˆ¨ê¹€ ìƒíƒœ í™•ì¸
    const fab = page.locator('[data-testid="fab"]');

    // ìŠ¤í¬ë¡¤ ë‹¤ìš´
    await page.evaluate(() => window.scrollBy(0, 500));

    // FAB í‘œì‹œ í™•ì¸
    await expect(fab).toBeVisible();
  });

  test('should change tabs via FAB', async ({ page }) => {
    await page.goto('http://localhost:3000');

    // FAB í´ë¦­í•˜ì—¬ ë©”ë‰´ ì—´ê¸°
    await page.click('[data-testid="fab"]');

    // FAB ë©”ë‰´ì—ì„œ ì§€ë„ íƒ­ ì„ íƒ
    await page.click('[data-testid="fab-menu-map"]');

    // ì§€ë„ í˜ì´ì§€ í‘œì‹œ í™•ì¸
    await expect(page.locator('[data-testid="map-page"]')).toBeVisible();
  });
});
```

### 11. ì• ë‹ˆë©”ì´ì…˜ (P2)

**test-11-animations.spec.ts**
```typescript
describe('Animations', () => {
  test('should animate tab transitions', async ({ page }) => {
    await page.goto('http://localhost:3000');

    // íƒ­ ì „í™˜ ì „ ìŠ¤í¬ë¦°ìƒ·
    await page.screenshot({ path: '/tmp/before-transition.png' });

    // ì§€ë„ íƒ­ìœ¼ë¡œ ì „í™˜
    await page.click('[data-testid="tab-map"]');

    // ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ ëŒ€ê¸°
    await page.waitForTimeout(500);

    // íƒ­ ì „í™˜ í›„ ìŠ¤í¬ë¦°ìƒ·
    await page.screenshot({ path: '/tmp/after-transition.png' });
  });

  test('should animate progress ring', async ({ page }) => {
    // ì—¬í–‰ ì¤‘ ì‹œê°„ìœ¼ë¡œ ì„¤ì •
    await page.addInitScript(() => {
      Date.now = () => new Date('2026-01-16T12:00:00+07:00').getTime();
    });

    await page.goto('http://localhost:3000');

    // ì§„í–‰ë¥  ë§ ì• ë‹ˆë©”ì´ì…˜ í™•ì¸
    const progressRing = page.locator('[data-testid="progress-ring"]');
    await expect(progressRing).toBeVisible();

    // SVG circleì˜ stroke-dashoffset í™•ì¸ (ì• ë‹ˆë©”ì´ì…˜ ì ìš©)
    const circle = progressRing.locator('circle').last();
    const strokeDashoffset = await circle.getAttribute('stroke-dashoffset');
    expect(strokeDashoffset).not.toBe('0');
  });
});
```

### 12. ì ‘ê·¼ì„± (P2)

**test-12-accessibility.spec.ts**
```typescript
describe('Accessibility', () => {
  test('should have proper ARIA attributes', async ({ page }) => {
    await page.goto('http://localhost:3000');
    await page.waitForLoadState('networkidle');

    // íƒ­ ë„¤ë¹„ê²Œì´ì…˜ ARIA
    const tabs = page.locator('[role="tab"]');
    expect(await tabs.count()).toBe(4);

    // í™œì„± íƒ­ aria-selected
    const activeTab = page.locator('[role="tab"][aria-selected="true"]');
    await expect(activeTab).toBeVisible();
  });

  test('should support keyboard navigation', async ({ page }) => {
    await page.goto('http://localhost:3000');

    // Tab í‚¤ë¡œ ë„¤ë¹„ê²Œì´ì…˜ ì´ë™
    await page.keyboard.press('Tab');
    await page.keyboard.press('Tab');

    // Enter í‚¤ë¡œ íƒ­ ì„ íƒ
    await page.keyboard.press('Enter');
  });

  test('should have minimum touch target size', async ({ page }) => {
    await page.setViewportSize({ width: 375, height: 667 });
    await page.goto('http://localhost:3000');

    // íƒ­ ë²„íŠ¼ í¬ê¸° í™•ì¸ (ìµœì†Œ 44x44px)
    const tabButton = page.locator('[data-testid="tab-home"]');
    const box = await tabButton.boundingBox();

    expect(box?.width).toBeGreaterThanOrEqual(44);
    expect(box?.height).toBeGreaterThanOrEqual(44);
  });

  test('should have alt text for images', async ({ page }) => {
    await page.goto('http://localhost:3000');
    await page.click('[data-testid="tab-schedule"]');

    // ì´ë¯¸ì§€ ìš”ì†Œ í™•ì¸
    const images = page.locator('img');
    const count = await images.count();

    for (let i = 0; i < count; i++) {
      const img = images.nth(i);
      const alt = await img.getAttribute('alt');
      expect(alt).toBeTruthy(); // alt ì†ì„± ì¡´ì¬ í™•ì¸
    }
  });
});
```

---

## ğŸ› ï¸ í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •

### Playwright ì„¤ì •

**playwright.config.ts**
```typescript
import { defineConfig, devices } from '@playwright/test';

export default defineConfig({
  testDir: './tests',
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: 'html',

  use: {
    baseURL: 'http://localhost:3000',
    trace: 'on-first-retry',
    screenshot: 'only-on-failure',
    video: 'retain-on-failure',
  },

  projects: [
    {
      name: 'chromium',
      use: { ...devices['Desktop Chrome'] },
    },
    {
      name: 'mobile',
      use: { ...devices['iPhone 12'] },
    },
  ],

  webServer: {
    command: 'npm run dev',
    url: 'http://localhost:3000',
    reuseExistingServer: !process.env.CI,
    timeout: 120000,
  },
});
```

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸

**package.jsonì— ì¶”ê°€**
```json
{
  "scripts": {
    "test": "playwright test",
    "test:ui": "playwright test --ui",
    "test:headed": "playwright test --headed",
    "test:debug": "playwright test --debug",
    "test:report": "playwright show-report"
  }
}
```

---

## ğŸ“Š í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê³„íš

### ë‹¨ê³„ë³„ ì‹¤í–‰ ì „ëµ

#### Phase 1: Critical Tests (P0)
**ëª©í‘œ**: í•µì‹¬ ê¸°ëŠ¥ ë™ì‘ í™•ì¸
```bash
# 1-4ë²ˆ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm test -- test-0[1-4]
```
**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 5-10ë¶„
**ì„±ê³µ ê¸°ì¤€**: ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ (100%)

#### Phase 2: Important Tests (P1)
**ëª©í‘œ**: ì£¼ìš” ì‚¬ìš©ì ê²½í—˜ ê²€ì¦
```bash
# 5-8ë²ˆ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm test -- test-0[5-8]
```
**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 10-15ë¶„
**ì„±ê³µ ê¸°ì¤€**: 90% ì´ìƒ í†µê³¼

#### Phase 3: Nice-to-have Tests (P2)
**ëª©í‘œ**: ì¶”ê°€ ê¸°ëŠ¥ ë° ì ‘ê·¼ì„± ê²€ì¦
```bash
# 9-12ë²ˆ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm test -- test-(09|1[0-2])
```
**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 10-15ë¶„
**ì„±ê³µ ê¸°ì¤€**: 80% ì´ìƒ í†µê³¼

### CI/CD í†µí•©

**GitHub Actions ì˜ˆì‹œ**
```yaml
name: Playwright Tests

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: 18
      - name: Install dependencies
        run: npm ci
      - name: Install Playwright browsers
        run: npx playwright install --with-deps
      - name: Run Playwright tests
        run: npm test
      - uses: actions/upload-artifact@v3
        if: always()
        with:
          name: playwright-report
          path: playwright-report/
```

---

## ğŸ“ˆ ì„±ê³µ ê¸°ì¤€ ë° KPI

### í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ
- **P0 (Critical)**: 100% í†µê³¼ í•„ìˆ˜
- **P1 (Important)**: 90% ì´ìƒ í†µê³¼
- **P2 (Nice-to-have)**: 80% ì´ìƒ í†µê³¼

### ì„±ëŠ¥ ì§€í‘œ
- **í˜ì´ì§€ ë¡œë“œ ì‹œê°„**: < 2ì´ˆ
- **íƒ­ ì „í™˜ ì‘ë‹µ ì‹œê°„**: < 300ms
- **ì§€ë„ ë Œë”ë§ ì‹œê°„**: < 3ì´ˆ

### ì ‘ê·¼ì„± ëª©í‘œ
- **WCAG 2.1 AA ì¤€ìˆ˜**
- **í„°ì¹˜ íƒ€ê²Ÿ í¬ê¸°**: ìµœì†Œ 44x44px
- **í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜**: ëª¨ë“  ì¸í„°ë™ì…˜ ì§€ì›

---

## ğŸ”§ í…ŒìŠ¤íŠ¸ ìœ ì§€ë³´ìˆ˜ ê°€ì´ë“œ

### data-testid ì¶”ê°€ ìœ„ì¹˜

ì»´í¬ë„ŒíŠ¸ë³„ë¡œ ë‹¤ìŒ data-testidë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤:

#### í˜ì´ì§€ ë ˆë²¨
- `page.tsx`: `data-testid="main-page"`
- `HomePage.tsx`: `data-testid="home-page"`
- `MapPage.tsx`: `data-testid="map-page"`
- `SchedulePage.tsx`: `data-testid="schedule-page"`
- `SettingsPage.tsx`: `data-testid="settings-page"`

#### ì»´í¬ë„ŒíŠ¸ ë ˆë²¨
- `BottomNavigation.tsx`:
  - `data-testid="bottom-navigation"`
  - `data-testid="tab-home"`
  - `data-testid="tab-map"`
  - `data-testid="tab-schedule"`
  - `data-testid="tab-settings"`

- `TravelProgress.tsx`:
  - `data-testid="travel-progress"`
  - `data-testid="countdown-timer"`
  - `data-testid="progress-ring"`
  - `data-testid="current-activity"`
  - `data-testid="next-activity"`

- `DayTimeline.tsx`:
  - `data-testid="day-timeline"`
  - `data-testid="day-{dayNumber}"`
  - `data-testid="activity-{activityId}"`

- `MapView.tsx`:
  - `data-testid="map-view"`
  - `data-testid="google-map"`
  - `data-testid="marker-{locationId}"`
  - `data-testid="route-polyline"`

- `ThemeToggle.tsx`:
  - `data-testid="theme-toggle"`

- `FloatingActionButton.tsx`:
  - `data-testid="fab"`
  - `data-testid="fab-menu-{tabName}"`

### í…ŒìŠ¤íŠ¸ ì‘ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸

ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ ì‘ì„± ì‹œ:
- [ ] ëª…í™•í•œ í…ŒìŠ¤íŠ¸ ì„¤ëª… ì‘ì„±
- [ ] data-testid í™œìš©í•˜ì—¬ ì…€ë ‰í„° ì•ˆì •ì„± í™•ë³´
- [ ] ì ì ˆí•œ ëŒ€ê¸° ì‹œê°„ ì„¤ì • (networkidle, selector)
- [ ] ì‹œê°„ ì˜ì¡´ì  í…ŒìŠ¤íŠ¸ëŠ” Date mocking ì‚¬ìš©
- [ ] ì‹¤íŒ¨ ì‹œ ìŠ¤í¬ë¦°ìƒ· ìë™ ìº¡ì²˜
- [ ] ì ‘ê·¼ì„± ì²´í¬ í¬í•¨ (ARIA, í‚¤ë³´ë“œ)

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

### ì¦‰ì‹œ ì‹¤í–‰
1. **data-testid ì¶”ê°€** - ëª¨ë“  ì£¼ìš” ì»´í¬ë„ŒíŠ¸ì— í…ŒìŠ¤íŠ¸ ID ì¶”ê°€
2. **playwright.config.ts ì„¤ì •** - í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì„±
3. **P0 í…ŒìŠ¤íŠ¸ ì‘ì„±** - Critical ì‹œë‚˜ë¦¬ì˜¤ë¶€í„° êµ¬í˜„

### ë‹¨ê¸° (1ì£¼ì¼)
4. **P1 í…ŒìŠ¤íŠ¸ ì‘ì„±** - Important ì‹œë‚˜ë¦¬ì˜¤ êµ¬í˜„
5. **CI/CD í†µí•©** - GitHub Actions ì„¤ì •
6. **í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸ ê²€í† ** - ì‹¤íŒ¨ ì›ì¸ ë¶„ì„ ë° ê°œì„ 

### ì¤‘ê¸° (2-4ì£¼)
7. **P2 í…ŒìŠ¤íŠ¸ ì‘ì„±** - Nice-to-have ì‹œë‚˜ë¦¬ì˜¤ êµ¬í˜„
8. **ì‹œê°ì  íšŒê·€ í…ŒìŠ¤íŠ¸** - ìŠ¤í¬ë¦°ìƒ· ë¹„êµ í…ŒìŠ¤íŠ¸ ì¶”ê°€
9. **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸** - Lighthouse CI í†µí•©

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [Playwright ê³µì‹ ë¬¸ì„œ](https://playwright.dev/)
- [Next.js Testing Guide](https://nextjs.org/docs/testing)
- [WCAG 2.1 Guidelines](https://www.w3.org/WAI/WCAG21/quickref/)
- [Google Maps API Testing](https://developers.google.com/maps/documentation/javascript/testing)

---

**ë¬¸ì„œ ë²„ì „**: 1.0.0
**ìµœì¢… ìˆ˜ì •ì¼**: 2026-01-07
**ì‘ì„±ì**: Claude (SuperClaude Framework)
